# BOB Single Sync Info

**BOB Single Sync Info** — это плагин для WordPress, предназначенный для сбора, обработки и агрегирования данных о местах с различных онлайн-платформ, таких как Google Maps, TripAdvisor и SERP API. Плагин автоматизирует процесс синхронизации рейтингов мест и отзывов, гарантируя актуальность данных на сайте без необходимости ручного обновления.

### Скриншоты:
[Single Post Fields](https://github.com/DmitriyChiroky/wp-plugins-new/blob/main/bob-single-sync-info/single-post-fields.png)

## Функции

- **Сбор данных о местах:**
  - Получение данных о местах (название, адрес, рейтинг, количество отзывов и т.д.) из внешних источников, таких как Google Maps, TripAdvisor и SERP API.
  
- **Агрегирование рейтингов:**
  - Объединение рейтингов и отзывов с различных платформ в один общий рейтинг, который отображается на сайте.
  
- **Автоматическая синхронизация данных:**
  - Автоматическое обновление информации о местах и рейтингов с использованием WordPress cron jobs для поддержания актуальности данных.

- **Интеграция с Google Maps и TripAdvisor:**
  - Прямая интеграция с API Google Maps и TripAdvisor для получения подробной информации о местах.
  
- **Отображение данных на сайте:**
  - Включены кастомные CSS и JavaScript файлы для корректного отображения информации о местах на веб-странице в удобном формате.

- **Ручное обновление данных через кнопки:**
  - На страницах постов добавлены кнопки для ручного обновления рейтинга для текущего места. Эти кнопки вызывают AJAX-запросы для обновления данных с конкретных API, таких как Google Maps, TripAdvisor и SERP.


## Как это работает

1. **Сбор данных:** 
   - Плагин подключается к API (Google Maps, TripAdvisor и SERP) для получения информации о местах, включая название, адрес, рейтинги и отзывы.
   
2. **Агрегирование рейтингов:**
   - С помощью файла `bob-generate-aggregated-rating.php` плагин обрабатывает рейтинги с различных платформ и вычисляет общий рейтинг.

3. **Автоматическое обновление:**
   - Через файл `bob-auto-update-rating-places.php` плагин настраивает автоматические обновления данных с использованием запланированных задач (cron jobs), обеспечивая регулярное обновление информации.

   4. **Ручное обновление через кнопки:**
   - Кнопки на страницах постов позволяют пользователям вручную инициировать обновление данных о текущем месте через AJAX-запросы. Эти запросы вызываются с помощью следующих файлов:
     - `bob-ajax-google-maps-place-data.js`: обновление данных через Google Maps API.
     - `bob-ajax-serp-api-place-data.js`: обновление данных через SERP API.
     - `bob-ajax-trip-advisor-place-data.js`: обновление данных через TripAdvisor API.

## Структура файлов

- **`bob-single-sync-info.php`:** Основной файл плагина, который инициализирует функционал и подключает необходимые компоненты.
  
- **Файлы для интеграции с API:**
  - `bob-get-google-maps-place-data.php` — Получение данных с Google Maps API.
  - `bob-get-trip-advisor-place-data.php` — Получение данных с API TripAdvisor.
  - `bob-get-serp-api-place-data.php` — Получение данных из результатов поисковых систем (SERP).

- **Файлы для агрегации и синхронизации:**
  - `bob-generate-aggregated-rating.php` — Агрегирует рейтинги с разных платформ.
  - `bob-auto-update-rating-places.php` — Автоматизирует процесс обновления и синхронизации данных.

- **Файлы для фронтенда:**
  - **`css/`** — Пользовательские стили для отображения информации.
  - **`js/`** — JavaScript-файлы для интерактивного отображения данных.

## Настройка

Для корректной работы плагина необходимо получить API ключи для:
- Google Maps
- TripAdvisor
- SERP API (если применимо)

После установки, в настройках плагина укажите соответствующие ключи API.

Заметка: плагин разработан в качестве модуля для конкретного сайта.
